--
-- Script was generated by Devart dbForge Studio 2020 for MySQL, Version 9.0.338.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 11/13/2022 8:41:37 PM
-- Server version: 8.0.29
-- Client version: 4.1
--


-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

DROP DATABASE IF EXISTS starmobile;

CREATE DATABASE starmobile
CHARACTER SET utf8mb4
COLLATE utf8mb4_0900_ai_ci;

--
-- Set default database
--
USE starmobile;

--
-- Create table `role`
--
CREATE TABLE role (
  role_id tinyint UNSIGNED NOT NULL AUTO_INCREMENT,
  role_name varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (role_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `user`
--
CREATE TABLE user (
  user_mail varchar(255) NOT NULL DEFAULT '',
  user_password varchar(255) NOT NULL DEFAULT '',
  user_role tinyint UNSIGNED NOT NULL,
  user_name varchar(255) NOT NULL DEFAULT '',
  user_address varchar(255) NOT NULL DEFAULT 'No address',
  user_phone varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (user_mail)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE user
ADD CONSTRAINT FK_user_role_role_id FOREIGN KEY (user_role)
REFERENCES role (role_id);

--
-- Create table `brand`
--
CREATE TABLE brand (
  brand_id tinyint UNSIGNED NOT NULL AUTO_INCREMENT,
  brand_name varchar(255) NOT NULL DEFAULT '',
  brand_img varchar(255) NOT NULL,
  PRIMARY KEY (brand_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 7,
AVG_ROW_LENGTH = 2730,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `product`
--
CREATE TABLE product (
  product_id int UNSIGNED NOT NULL AUTO_INCREMENT,
  product_name varchar(100) NOT NULL DEFAULT '',
  product_spec varchar(1000) NOT NULL DEFAULT '',
  product_price decimal(12, 0) UNSIGNED NOT NULL,
  product_img varchar(255) NOT NULL,
  product_rating decimal(2, 1) NOT NULL DEFAULT 0.0,
  product_brand tinyint UNSIGNED NOT NULL,
  PRIMARY KEY (product_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 36,
AVG_ROW_LENGTH = 468,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create check constraint
--
ALTER TABLE product
ADD CONSTRAINT CK_product CHECK ((`product_rating` >= 0) AND (`product_rating` <= 5));

--
-- Create foreign key
--
ALTER TABLE product
ADD CONSTRAINT FK_products_brand_brand_id FOREIGN KEY (product_brand)
REFERENCES brand (brand_id);

--
-- Create table `order_status`
--
CREATE TABLE order_status (
  order_status_id tinyint UNSIGNED NOT NULL AUTO_INCREMENT,
  order_status_name varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (order_status_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `order`
--
CREATE TABLE `order` (
  order_id int UNSIGNED NOT NULL AUTO_INCREMENT,
  user_mail varchar(255) NOT NULL DEFAULT '',
  order_status tinyint UNSIGNED NOT NULL DEFAULT 1,
  order_date datetime DEFAULT NULL,
  order_discount decimal(10, 0) UNSIGNED DEFAULT 0,
  order_address varchar(255) DEFAULT '',
  order_shipment_cost decimal(10, 0) UNSIGNED DEFAULT 30000,
  order_total_price decimal(10, 0) UNSIGNED DEFAULT NULL,
  PRIMARY KEY (order_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 30,
AVG_ROW_LENGTH = 16384,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE `order`
ADD CONSTRAINT FK_order_order_status_order_status_id FOREIGN KEY (order_status)
REFERENCES order_status (order_status_id);

--
-- Create foreign key
--
ALTER TABLE `order`
ADD CONSTRAINT FK_order_user_user_mail FOREIGN KEY (user_mail)
REFERENCES user (user_mail);

--
-- Create table `order_detail`
--
CREATE TABLE order_detail (
  id int UNSIGNED NOT NULL AUTO_INCREMENT,
  product_id int UNSIGNED NOT NULL,
  order_id int UNSIGNED NOT NULL,
  quantity int UNSIGNED DEFAULT 1,
  price decimal(10, 0) UNSIGNED NOT NULL,
  PRIMARY KEY (id, product_id, order_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 63,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE order_detail
ADD CONSTRAINT FK_order_detail_order_order_id FOREIGN KEY (order_id)
REFERENCES `order` (order_id) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE order_detail
ADD CONSTRAINT FK_order_detail_product_product_id FOREIGN KEY (product_id)
REFERENCES product (product_id);

-- 
-- Dumping data for table role
--
INSERT INTO role VALUES
(1, 'user'),
(2, 'admin');

-- 
-- Dumping data for table brand
--
INSERT INTO brand VALUES
(1, 'Apple', 'apple'),
(2, 'Oppo', 'oppo'),
(3, 'Realme', 'realme'),
(4, 'Samsung', 'samsung'),
(5, 'Vivo', 'vivo'),
(6, 'Xiaomi', 'xiaomi');

-- 
-- Dumping data for table user
--
INSERT INTO user VALUES
('admin@gmail.com', 'admin', 2, 'Admin1', '1 Cộng Hòa, P.15, Q. Bình Tân, TP.HCM', '212278546'),
('duyson@yahoo.com.vn', '123456', 1, 'Bùi Phạm Duy Sơn', '101 Mai Hắc Đế, Bùi Thị Xuân, Hà Nội', '01222871152'),
('phuongnam8290@gmail.com', '123456', 1, 'Điền Phương Nam', '10 Cù Chính Lan, Phường 13, Quận Tân Bình, TP.HCM', '0934137925');

-- 
-- Dumping data for table order_status
--
INSERT INTO order_status VALUES
(1, 'pending'),
(2, 'checkout');

-- 
-- Dumping data for table product
--
INSERT INTO product VALUES
(1, 'Samsung Galaxy Z Flip4 5G', 'Main: Dynamic AMOLED 2X 6.7", Side: Super AMOLED 1.9" Full HD+ | Android 12 | 2 camera 12 MP | 10 MP | Snapdragon 8+ Gen 1 | 8 GB | 128 GB', 20990000, '01', 4.8, 4),
(2, 'iPhone 11', 'IPS LCD 6.1" Liquid Retina | iOS 15 | 2 camera 12 MP | 12 MP | Apple A13 Bionic | 4 GB | 64 GB', 11990000, '02', 5.0, 1),
(3, 'Xiaomi Redmi Note 11', 'AMOLED 6.43" Full HD+ | Android 11 | Main: 50 MP & Side: 8 MP, 2 MP, 2 MP | 13 MP | Snapdragon 680 | 4 GB | 64 GB', 4490000, '03', 3.2, 6),
(4, 'Samsung Galaxy S22 Ultra 5G', 'Dynamic AMOLED 2X 6.8" Quad HD+ (2K+) | Android 12 | Main: 108 MP & Side: 12 MP, 10 MP, 10 MP | 40 MP | Snapdragon 8 Gen 1 | 8 GB | 128 GB', 25990000, '04', 4.7, 4),
(5, 'Xiaomi Redmi Note 11S series', 'IPS LCD 6.6" Full HD+ | Android 11 | Main: 50 MP & Side: 8 MP, 2 MP | 13 MP | MediaTek Dimensity 810 5G | 6 GB | 128 GB', 6490000, '05', 4.9, 6),
(6, 'iPhone 13 Pro Max', 'OLED 6.7" Super Retina XDR | iOS 15 | 3 camera 12 MP | 12 MP | Apple A15 Bionic | 6 GB | 128 GB', 28490000, '06', 5.0, 1),
(7, 'Samsung Galaxy A23', 'PLS TFT LCD 6.6" Full HD+ | Android 12 | Main: 50 MP & Side: 5 MP, 2 MP, 2 MP | 8 MP | Snapdragon 680 | 4 GB | 128 GB', 5490000, '07', 4.3, 4),
(8, 'Vivo Y15 series', 'IPS LCD 6.51" HD+ | Android 11 (Go Edition) | Main: 13 MP & Side: 2 MP | 8 MP | MediaTek Helio P35 | 3 GB | 32 GB', 3190000, '08', 3.7, 5),
(9, 'OPPO Reno8 series', 'AMOLED 6.7" Full HD+ | Android 12 | Main: 50 MP & Side: 8 MP, 2 MP | 32 MP | MediaTek Dimensity 8100 Max 8 core | 12 GB | 256 GB', 18990000, '09', 2.5, 2),
(10, 'OPPO A55', 'IPS LCD 6.5" HD+ | Android 11 | Main: 50 MP & Side: 2 MP, 2 MP | 16 MP | MediaTek Helio G35 | 4 GB | 64 GB', 4190000, '10', 2.7, 2),
(11, 'Samsung Galaxy Z Fold4 5G', 'Main: Dynamic AMOLED 2X 7.6" & Side: 6.2"Quad HD+ (2K+) | Android 12 | Main: 50 MP & Side: 12 MP, 10 MP | 10 MP & 4 MP | Snapdragon 8+ Gen 1 | 12 GB | 256 GB', 37990000, '11', 3.8, 4),
(12, 'iPhone 14 Pro Max', 'OLED 6.7" Super Retina XDR | iOS 16 | Main: 48 MP & Side: 12 MP, 12 MP | 12 MP | Apple A16 Bionic 6 core | 6 GB | 128 GB', 33990000, '12', 4.8, 1),
(13, 'Samsung Galaxy Z Fold3 5G', 'Main: Dynamic AMOLED 2X 7.6" & Side: 6.2"Full HD+ | Android 11 | 3 camera 12 MP | 10 MP & 4 MP | Snapdragon 888 | 12 GB | 256 GB', 31990000, '13', 4.5, 4),
(14, 'iPhone 14 Pro', 'OLED 6.1" Super Retina XDR | iOS 16 | Main: 48 MP & Side: 12 MP, 12 MP | 12 MP | Apple A16 Bionic 6 core | 6 GB | 128 GB', 30590000, '14', 5.0, 1),
(15, 'OPPO Find X5 Pro 5G', 'AMOLED 6.7" Quad HD+ (2K+) | Android 12 | Main: 50 MP & Side: 50 MP, 13 MP | 32 MP | Snapdragon 8 Gen 1 | 12 GB | 256 GB', 30490000, '15', 4.4, 2),
(16, 'iPhone 13 Pro', 'OLED 6.1" Super Retina XDR | iOS 15 | 3 camera 12 MP | 12 MP | Apple A15 Bionic | 6 GB | 128 GB', 25990000, '16', 4.8, 1),
(17, 'iPhone 14 Plus', 'OLED 6.7" Super Retina XDR | iOS 16 | 2 camera 12 MP | 12 MP | Apple A15 Bionic | 6 GB | 128 GB', 25790000, '17', 3.4, 1),
(18, 'iPhone 14', 'OLED 6.1" Super Retina XDR | iOS 16 | 2 camera 12 MP | 12 MP | Apple A15 Bionic | 6 GB | 128 GB', 22790000, '18', 3.8, 1),
(19, 'iPhone 13', 'OLED 6.1" Super Retina XDR | iOS 15 | 2 camera 12 MP | 12 MP | Apple A15 Bionic | 4 GB | 128 GB', 20290000, '19', 4.2, 1),
(20, 'Samsung Galaxy S22+ 5G', 'Dynamic AMOLED 2X 6.6" Full HD+ | Android 12 | Main: 50 MP & Side: 12 MP, 10 MP | 10 MP | Snapdragon 8 Gen 1 | 8 GB | 128 GB', 19990000, '20', 4.7, 4),
(21, 'Vivo X80', 'AMOLED 6.78" Full HD+ | Android 12 | Main: 50 MP & Side: 12 MP, 12 MP | 32 MP | MediaTek Dimensity 9000 | 12 GB | 256 GB', 19190000, '21', 3.8, 5),
(22, 'iPhone 13 mini', 'OLED 5.4" Super Retina XDR | iOS 15 | 2 camera 12 MP | 12 MP | Apple A15 Bionic | 4 GB | 128 GB', 17490000, '22', 4.5, 1),
(23, 'Xiaomi 12T Pro', 'AMOLED 6.67" 1.5K | Android 12 | Main: 200 MP & Side: 8 MP, 2 MP | 20 MP | Snapdragon 8+ Gen 1 | 12 GB | 256 GB', 16990000, '23', 4.4, 6),
(24, 'Samsung Galaxy Z Flip3 5G', 'Dynamic AMOLED 2X Main: 6.7" & Side: 1.9" Full HD+ | Android 11 | 2 camera 12 MP | 10 MP | Snapdragon 888 | 8 GB | 256 GB', 16990000, '24', 4.5, 4),
(25, 'iPhone 12', 'OLED 6.1" Super Retina XDR | iOS 15 | 2 camera 12 MP | 12 MP | Apple A14 Bionic | 4 GB | 64 GB', 16990000, '25', 5.0, 1),
(26, 'Xiaomi 12 series', 'AMOLED 6.28" Full HD+ | Android 12 | Main: 50 MP & Side: 13 MP, 5 MP | 32 MP | Snapdragon 8 Gen 1 | 8 GB | 256 GB', 16490000, '26', 3.8, 6),
(27, 'Samsung Galaxy S22 5G', 'Dynamic AMOLED 2X 6.1" Full HD+ | Android 12 | Main: 50 MP & Side: 12 MP, 10 MP | 10 MP | Snapdragon 8 Gen 1 | 8 GB | 128 GB', 15990000, '27', 4.4, 4),
(28, 'Xiaomi 11T Pro 5G', 'AMOLED 6.67" Full HD+ | Android 11 | Main: 108 MP & Side: 8 MP, 5 MP | 16 MP | Snapdragon 888 | 8 GB | 256 GB', 13990000, '28', 5.0, 6),
(29, 'iPhone 12 mini', 'OLED 5.4" Super Retina XDR | iOS 15 | 2 camera 12 MP | 12 MP | Apple A14 Bionic | 4 GB | 64 GB', 13490000, '29', 4.2, 1),
(30, 'Samsung Galaxy S21 FE 5G', 'Dynamic AMOLED 2X 6.4" Full HD+ | Android 12 | Main: 12 MP & Side: 12 MP, 8 MP | 32 MP | Exynos 2100 | 8 GB | 128 GB', 12990000, '30', 4.7, 4),
(31, 'Realme 8 series', 'Super AMOLED 6.4" Full HD+ | Android 11 | Main: 108 MP & Side: 8 MP, 2 MP, 2 MP | 16 MP | Snapdragon 720G | 8 GB | 128 GB', 8690000, '31', 4.3, 3),
(32, 'Realme 9 series', 'Super AMOLED 6.4" Full HD+ | Android 12 | Main: 50 MP & Side: 8 MP, 2 MP | 16 MP | MediaTek Dimensity 920 5G | 8 GB | 128 GB', 9990000, '32', 4.9, 3),
(33, 'Vivo Y35', 'IPS LCD 6.58" Full HD+ | Android 12 | Main: 50 MP & Side: 2 MP, 2 MP | 16 MP | Snapdragon 680 | 8 GB | 128 GB', 6990000, '33', 5.0, 5),
(34, 'Vivo Y53s', 'IPS LCD 6.58" Full HD+ | Android 11 | Main: 64 MP & Side: 2 MP, 2 MP | 16 MP | MediaTek Helio G80 | 8 GB | 128 GB', 6990000, '34', 3.9, 5),
(35, 'Vivo Y55', 'AMOLED 6.44" Full HD+ | Android 12 | Main: 50 MP & Side: 2 MP, 2 MP | 16 MP | Snapdragon 680 | 8 GB | 128 GB', 6790000, '35', 3.5, 5);

-- 
-- Dumping data for table `order`
--
-- Table starmobile.`order` does not contain any data (it is empty)

-- 
-- Dumping data for table order_detail
--
-- Table starmobile.order_detail does not contain any data (it is empty)

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;